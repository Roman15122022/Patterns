// –í–∞–∂–∫–∏–π —Å–µ—Ä–≤—ñ—Å–Ω–∏–π –æ–± º—î–∫—Ç
class HeavyResource {
    constructor() {
        console.log("‚è≥ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤–∞–∂–∫–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É...");
    }

    fetchData() {
        console.log("üì¶ –î–∞–Ω—ñ –æ—Ç—Ä–∏–º–∞–Ω–æ –∑ –≤–∞–∂–∫–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É");
    }
}

// –ó–∞–º—ñ—Å–Ω–∏–∫, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î –≤–∞–∂–∫–∏–π –æ–± º—î–∫—Ç –ª–∏—à–µ –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ
class LazyResourceProxy {
    constructor() {
        this.realResource = null;
    }

    fetchData() {
        if (!this.realResource) {
            this.realResource = new HeavyResource(); // –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ª–∏—à–µ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–ª–∏–∫—É
        }

        this.realResource.fetchData();
    }
}

// –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
const resource = new LazyResourceProxy();

// –ù—ñ—è–∫–∏—Ö –ª–æ–≥—ñ–≤ –ø—Ä–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é ‚Äî –±–æ —â–µ –Ω–µ –≤–∏–∫–ª–∏–∫–∞–ª–∏ fetchData()
console.log("üîπ –ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–ø—É—â–µ–Ω–∞");

// –ü–µ—Ä—à–∏–π –≤–∏–∫–ª–∏–∫ ‚Äî —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω–∏–π –æ–± º—î–∫—Ç
resource.fetchData(); // ‚è≥ + üì¶

// –î—Ä—É–≥–∏–π –≤–∏–∫–ª–∏–∫ ‚Äî –≤–∂–µ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó
resource.fetchData(); // üì¶
